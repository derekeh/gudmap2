<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ck="http://code.google.com/ck-jsf-editor"
	xmlns:pr="http://primefaces.org/ui">
	
<h:head>
	<title>GUDMAP Editor | Page List</title>
	  <h:outputStylesheet library="css" name="gudmap_db.css"></h:outputStylesheet>
	  <h:outputStylesheet library="css" name="gudmap100.css"></h:outputStylesheet>
	  <h:outputStylesheet library="css" name="gudmap.css"></h:outputStylesheet>
	  <h:outputScript library="scripts" name="jquery-latest.pack.js"></h:outputScript>
</h:head>
<f:event listener="#{loginBean.isEditor}" type="preRenderView" />
<h:body>
	#{pageListBean.setup()}
	
	<h:panelGrid columns="3">
		<h:outputLink value="../db/index.jsf">
			<h:outputText value="Home" />
		</h:outputLink>
		<h:panelGroup></h:panelGroup>
		<h:outputLink value="../db/options.jsf">
			<h:outputText value="Options" />
		</h:outputLink>
	</h:panelGrid>
	
	<h1>View Page List </h1> 
	 
	<h:form id="editorForm"> 
		<h:outputText value="should be a primefaces table in here to iterate through the model list eg viewDiseaseResult" />
		<br />	
		<pr:dataTable  id="il_pagelist_table" value="#{pageListBean.pageList}" var="row" draggableColumns="true" resizableColumns="false"
		paginator="true" rows="10" paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                 rowsPerPageTemplate="10,50,100" styleClass="il_disease_table">
                 
               <!-- <pr:column headerText="OID"  sortBy="#{row.oid}" width="70">
				<h:outputLink value="../pages/viewPage.jsf?docID=#{row.oid}">
					<h:outputText value="#{row.oid}" styleClass="pr_hyperlink" ></h:outputText>
				</h:outputLink>
    		   </pr:column>  --> 
    		   
    		   <pr:column headerText="Title">
				<h:outputText value="#{row.title}"></h:outputText>
    		   </pr:column> 
    		   
    		   <pr:column headerText="Alias" sortBy="#{row.alias}">
				<h:outputText value="#{row.alias}"></h:outputText>
    		   </pr:column>
    		   
			   <pr:column headerText="Category" sortBy="#{row.category}">
				<h:outputText value="#{row.category}"></h:outputText>
    		</pr:column>
    		
    		<pr:column headerText="Level" width="70">
					<h:outputText value="#{row.level}"></h:outputText>
    		</pr:column>
    		
    		<pr:column headerText="Visibility" sortBy="#{row.isVisible}" width="110">
					<h:outputText value="#{row.isVisible}"  styleClass="pr_hyperlink"></h:outputText>
    		</pr:column>
    		
    		<pr:column headerText="Link" width="175">
    			<h:outputLink value="../pages/viewPage.jsf?docID=#{row.oid}">
					<h:outputText value="viewPage?docID=#{row.oid}" styleClass="pr_hyperlink" ></h:outputText>
				</h:outputLink>
    		</pr:column>

    		<pr:column headerText="Edit" width="65">
    			<h:outputLink value="../editor/ck_editor.jsf?pageid=#{row.oid}">
					<h:graphicImage library="images/editor" name="edit.png" style="width:30px;"/>
				</h:outputLink>
    		</pr:column>
    		
    		<pr:column headerText="Delete" width="65">
				<h:graphicImage library="images/editor" name="delete.png" style="width:30px;"/>
    		</pr:column>
    		
    		<pr:column headerText="Summary" >
				<h:outputText value="Page last modified by #{row.username} on #{row.modifiedDate}"></h:outputText>
    		</pr:column>
    		
		</pr:dataTable> 
		<!-- <h:messages id="messages" /> -->
	</h:form> 
	<hr />
	

</h:body> 
</html>