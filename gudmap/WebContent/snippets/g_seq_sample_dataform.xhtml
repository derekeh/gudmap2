<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:pr="http://primefaces.org/ui" >
	
	 <h:form id="dataform"> 
	     <h:dataTable value="#{genericTablePageBean.dataList}" var="u"
	    		styleClass="db_order-table"
    			headerClass="db_order-table-header"
    			rowClasses="db_order-table-odd-row,db_order-table-even-row">
    		

 			<h:column >
    			<f:facet name="header">
					<h:selectBooleanCheckbox id="cb_toggle" value="#{genericTablePageBean.toggleCheck}" valueChangeListener="#{genericTablePageBean.toggleAll}">
						<f:ajax event="click" execute="@this cb_toggle"  render="@form" />
					</h:selectBooleanCheckbox>
    				<ui:remove>
    				<h:commandButton  id="tocart" value="+" action="#{genericTablePageBean.checkboxSelections()}" />
    				</ui:remove>			
    			</f:facet>
    				<h:selectBooleanCheckbox id="cb_#{u.oid}" value="#{u.selected}"></h:selectBooleanCheckbox>
    		</h:column>


    		
    		<h:column rendered="#{paramBean.mic_gudmapaccessioncol == true}">
    			<f:facet name="header">
    				<h:commandLink id="gudmapaccessionlink" value="Assay Detail" actionListener="#{genericTablePageBean.sort}">
                         <f:attribute name="sortField" value="NATURAL_SORT(gudmap_accession)" />
                         <f:ajax execute="@this gudmapaccessionlink" render="@form"></f:ajax>
                    </h:commandLink>
    			</f:facet>
    				
    			<h:commandLink value="#{u.gudmap_accession}"  action="viewSeqSubmissionDetails">
						<f:param name="accId" value="#{u.gudmap_accession}"></f:param>
						<f:param name="isArray" value="false"></f:param>
				</h:commandLink>
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_sampledescriptioncol == true}">
    			<f:facet name="header">
    				Sample Description
				</f:facet>
    				#{u.sampleDescription}
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_samplenamecol == true}">
    			<f:facet name="header">
    				Sample Name
				</f:facet>
    				#{u.title}
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_componentscol == true}">
    			<f:facet name="header">
    				Component
				</f:facet>
    				#{u.sampleComponents}
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_agecol == true}">
    			<f:facet name="header">
    				Age
				</f:facet>
    				#{u.age}
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_stagecol == true}">
    			<f:facet name="header">
    				<h:commandLink id="stagelink" value="Stage" actionListener="#{genericTablePageBean.sort}">
                         <f:attribute name="sortField" value="stage" />
                         <f:ajax execute="@this stagelink" render="@form"></f:ajax>
                    </h:commandLink>
    				
				</f:facet>
    			<h:outputLink value="#{applicationBean.theilerUrl1}#{u.stage_order}#{applicationBean.theilerUrl2}" target="_blank" rendered="#{u.species=='Mus musculus'}">
				 	<h:outputText value="#{u.stage}" />
				</h:outputLink>
				<h:outputText value="#{u.stage}" rendered="#{u.species != 'Mus musculus'}"/>
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_sexcol == true}">
    			<f:facet name="header">
    				Sex
				</f:facet>
    				#{u.sex}
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_genotypecol == true}">
    			<f:facet name="header">
    				Genotype
				</f:facet>
    				#{u.genotype}
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_geoSampleIDcol == true}">
    			<f:facet name="header">
    				<h:commandLink id="geosamplelink" value="GEO Sample ID" actionListener="#{genericTablePageBean.sort}">
                         <f:attribute name="sortField" value="NATURAL_SORT(geo_sample_id)" />
                         <f:ajax execute="@this geosamplelink" render="@form"></f:ajax>
                    </h:commandLink>
				</f:facet>
				<h:outputLink value="http://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=#{u.geoSampleID}">
					<h:outputText value="#{u.geoSampleID}"/>
				</h:outputLink>
    		</h:column>
 
    		<h:column rendered="#{paramBean.mic_geoSeriesIDcol == true}">
    			<f:facet name="header">
    				<h:commandLink id="geoserieslink" value="GEO Series ID" actionListener="#{genericTablePageBean.sort}">
                         <f:attribute name="sortField" value="NATURAL_SORT(geo_series_id)" />
                         <f:ajax execute="@this geoserieslink" render="@form"></f:ajax>
                    </h:commandLink>
				</f:facet>
				<h:outputLink value="http://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=#{u.geoSeriesID}">
					<h:outputText value="#{u.geoSeriesID}"/>
				</h:outputLink>
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_samplelibrarystrategycol == true}">
    			<f:facet name="header">
    				<h:commandLink id="librarystrategylink" value="Library Strategy" actionListener="#{genericTablePageBean.sort}">
                         <f:attribute name="sortField" value="library_strategy" />
                         <f:ajax execute="@this librarystrategylink" render="@form"></f:ajax>
                    </h:commandLink>
				</f:facet>
				#{u.libraryStrategy}
    				
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_sourcecol == true}">
    			<f:facet name="header">
    				<h:commandLink id="sourcelink" value="Source" actionListener="#{genericTablePageBean.sort}">
                         <f:attribute name="sortField" value="source" />
                          <f:ajax execute="@this sourcelink" render="@form"></f:ajax>
                    </h:commandLink>
				</f:facet>
    				#{u.source}
    		</h:column>
    		
    		<h:column rendered="#{paramBean.mic_submissiondatecol == true}">
    			<f:facet name="header">
    				Date
				</f:facet>
    				#{u.submission_date}
    		</h:column>
    		
    		
    		
    		

 		</h:dataTable> 
 		</h:form>
</ui:composition>
