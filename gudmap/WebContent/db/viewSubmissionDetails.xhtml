<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:pr="http://primefaces.org/ui" >

<ui:composition template="/WEB-INF/templates/g_template1.xhtml">
	<ui:define name="title">
	    GUDMAP Submission Detail
	</ui:define>
<!-- 	comment out the following section if you don't want the solr flyin displayed -->
	<ui:define name="solr">
		<!-- <ui:include src="/snippets/g_solrFly.xhtml"/> -->
	</ui:define>
	
	<ui:define name="content">
	<!-- can use relative links on html tags -->
	
	
	<h:outputStylesheet library="css" name="my_jstree_style.css"  />
	<h:outputScript library="scripts" name="jstree.gudmap.globalsearch.js"></h:outputScript>
	<h:outputScript library="scripts/jstree_pre1.0_fix_1/_lib" name="jquery.cookie.js"></h:outputScript>
	<h:outputScript library="scripts/jstree_pre1.0_fix_1/_lib" name="jquery.hotkeys.js"></h:outputScript>
	<h:outputScript library="scripts/jstree_pre1.0_fix_1" name="jquery.jstree.js"></h:outputScript>
	
	<ui:include src="/snippets/g_wholemount_text.xhtml"></ui:include>
	
	
	   
	   <h:outputText value="Submission Details for: GUDMAP:#{ishSubmissionBean.oid}" styleClass="db_bold"></h:outputText>    	
	    	
	    <!-- all other content in here -->  
	   
		#{ishSubmissionBean.returnResults(sessionBean.displayAsTree)}
		
<script type="text/javascript">
//<![CDATA[

jQuery(document).ready(function(){
	
	var showAnnotationInfoTooltip = function(event) {
		jQuery('div.db_tooltip').remove();
		jQuery('<div class="db_tooltip">Clicking on these buttons allows you to alter the display format of the annotations. Subsequent visits to this page will use your last selected format options.</div>')
		   .appendTo('body');
		changeTooltipPosition(event);
	};
	
	
	var showHintTooltip = function(event) {
	var type='hello derek';
	jQuery('div.db_tooltip').remove();
	jQuery('<div class="db_tooltip">Information about dropping hints</div>')
		 .appendTo('body');
	changeTooltipPosition(event);
	}; 
	
	var changeTooltipPosition = function(event) {
		var tooltipX = event.pageX + 8;
		var tooltipY = event.pageY + 8;
		$('div.db_tooltip').css({top: tooltipY, left: tooltipX});
	};
	var hideTooltip = function() {
		jQuery('div.db_tooltip').remove();
	};

	
	jQuery("#il_tree_span").bind({
		mousemove : changeTooltipPosition,
		mouseenter : showAnnotationInfoTooltip,
		mouseleave: hideTooltip
	});
	
    jQuery("#demo2_view").jstree({
        "themes": {
          "theme": "default",
          "line": false,
          "dots" : false,
          "icons": true,
		  "url" : "../resources/scripts/jstree_pre1.0_fix_1/themes/anatomytree/style3.css"
        },
        "ui" : {
          "select_limit" : -1,
          "select_multiple_modifier" : "ctrl",
          "select_range_modifier" :"shift",
          //selected_parent_open
          "selected_parent_close" : "select_parent"
        },
        "json_data" : {
          "progressive_render" : false,
          "selected_parent_open": true,
          "ajax" : {
          	"url" : "../resources/scripts/annotation_tree_json/" + "${ishSubmissionBean.ishSubmissionModel.stageAnatomy}" + ".json",
          	"data": function (n) { return { id: n.attr ? n.attr("id") : 0} }, 
          }
        },

        "plugins" : [ "themes", "json_data", "ui", "crrm" ]

    })
    
      .bind({"loaded.jstree": function(e, data) {
          	  enhanceTree(e, data);
            }
      })
        .delegate("a", "click", function(e, data) {
        var node = jQuery.jstree._focused().get_selected();
        //alert('delegate');
        clickLink(node);
    }); 
      
      


}); 

function clickLink(node){
	  
	// unable to pass the myval value to the bean in order to use dialog. Use popup window instead. not so nice
	 /* var myval=node.attr("name");
    alert(myval);
     "#{componentExpressionBean.newValues(ishSubmissionBean.ishSubmissionModel.oid,myval)}";
  	 PF('expression_dialog').show(); */ 
  	 
  	javascript:showExpressionInformation("${ishSubmissionBean.ishSubmissionModel.oid}",node.attr("ANO_PUBLIC_ID"));
}

function enhanceTree(event, data) {
//    	alert("enhanceTree");

    	var exp_from_db = new Array();
    	exp_from_db = findExpressions();
//    	alert("exp_from_db test = " + exp_from_db[0]);
    	var pattern_from_db = new Array();
    	pattern_from_db = findPatterns();
//    	alert("pattern_from_db test = " + pattern_from_db[0]);
    	var expnote_from_db = new Array();
    	expnote_from_db = findExpressionNotes(exp_from_db);
//    	alert("expnote_from_db test = " + expnote_from_db[0]);

		var min_depth = 20;//min_depth is a global variable
//		alert("exp_from_db.length = " + exp_from_db.length);
        if (exp_from_db.length == 0){  
	        jQuery("#demo2_view").jstree("open_node", "#0--0");
	        jQuery("#demo2_view").jstree("open_node", "#1--0");
	        jQuery("#demo2_view").jstree("open_node", "#2--0");
        }
        else{

			for (var i = 0; i < exp_from_db.length; i++) {
		
	            var node_name1 = String(exp_from_db[i][0]);
	            var node_name= node_name1.replace(" ","");

				jQuery("#demo2_view").find(jQuery("li[name='"+node_name+"']")).each(function (k, v) {
					
//					alert("v =" +jQuery(v).attr('name'));

					data.inst.select_node(v);
					data.inst.deselect_node(v);


		            if(parseInt(jQuery(v).attr('APO_DEPTH')) < min_depth) {
		                min_depth = jQuery(v).attr('APO_DEPTH');
		            
		            }
//		            alert("min_depth = "+ min_depth);				
		        
		            var node_strength = exp_from_db[i][1];
		            var node_add_strength = exp_from_db[i][2];

		            
		            var selected_class;
//		            alert("node_strength = "+ node_strength);
		            if (node_strength == "present" && node_add_strength == ""){
		              selected_class = "jstree-icon4";
		            }
		            else if (node_strength == "present" && node_add_strength == "strong")  {
		              selected_class = "jstree-icon3";
		            }
		            else if (node_strength == "present" && node_add_strength == "moderate")  {
		              selected_class = "jstree-icon2";
		            }
		            else if (node_strength == "present" && node_add_strength == "weak")  {
		              selected_class = "jstree-icon5";
		            }
		            else if (node_strength == "uncertain" && node_add_strength == "")  {
		              selected_class = "jstree-icon6";
		            }
		            else if (node_strength == "not detected" && node_add_strength == "")  {
		              selected_class = "jstree-icon7";
		            }
		            else if (exp_node == "not_examined")  {
		              selected_class = "jstree-icon";
		            }
		            
		            jQuery("li[name='"+node_name+"'] > ins").attr("class",selected_class);// set class to display new icon
		            jQuery("li[name='"+node_name+"'] > a ins").attr("class",selected_class);// set class to display new icon
		        });

		        for (p = 0; p < pattern_from_db.length; p++) {
		        	var pattern_name = String(pattern_from_db[p][0]).replace(" ","");
		        	if (node_name == pattern_name){
//		        		alert("pattern icon");
		                if (pattern_from_db[p][1] == "graded"){
		                    selected_class = "pattern-icon1";
		                  }
		                  else if (pattern_from_db[p][1] == "regional")  {
		                    selected_class = "pattern-icon2";
		                  }
		                  else if (pattern_from_db[p][1] == "spotted")  {
		                    selected_class = "pattern-icon3";
		                  }
		                  else if (pattern_from_db[p][1] == "ubiquitous")  {
		                    selected_class = "pattern-icon4";
		                  }
		                  else if (pattern_from_db[p][1] == "restricted")  {
		                    selected_class = "pattern-icon5";
		                  }
		                  else if (pattern_from_db[p][1] == "single cell")  {
		                    selected_class = "pattern-icon6";
		                  }
		                
						  jQuery("li[name='"+node_name+"'] > a").append('<a style="cursor:default;"><ins class="' + selected_class + '">&nbsp;</ins></a>');		            	
		            }// end if node_name	        	
		        }// end for p loop
		        
		        for (n = 0; n < expnote_from_db.length; n++) {
		        	var note_name = String(expnote_from_db[n][0]).replace(" ","");
		        	if (node_name == note_name){
//		        		alert("note-icon1");
		                selected_class = "note-icon1";
		                jQuery('li[name="'+node_name+'"] > a') .after('<a title=\''+ expnote_from_db[n][1] + '\' ><ins class="' + selected_class + '">&nbsp;</ins></a>');
		               // jQuery('li[name="'+node_name+'"] > a') .after('<a onmouseover="tooltip.show(\''+ expnote_from_db[n][1] + '\')"  onmouseout="tooltip.hide();" ><ins class="' + selected_class + '">&nbsp;</ins></a>');
		            }		        	
		        }// end for n loop
								
            }// end of for i loop
        }// end of else              
};

function findExpressions(exp_from_db){
//	alert("findExpressions");
	
	var expressions=String("${ishSubmissionBean.ishSubmissionModel.annotationTreeExpressions}");
//	alert(expressions);
	var temparray = expressions.split("|");
	var count = temparray.length;
	var expressions_array = new Array(count-1);
	for(var i = 0; i < count-1; i++){
		expressions_array[i] = new Array(3);
		expressions_array[i] = temparray[i].replace(":","").split(",");
	}

	for(var i = 0; i < count-1; i++){
//		alert(expressions_array[i]);
	}
	
	return expressions_array;	
}

function findPatterns(){
//	alert("findPatterns");
	
	var patterns=String("${ishSubmissionBean.ishSubmissionModel.annotationTreePatterns}");
//	alert(patterns);
	var temparray = patterns.split("|");
	var count = temparray.length;
	var pattern_array = new Array(count-1);
	for(var i = 0; i < count-1; i++){
		pattern_array[i] = new Array(2);
		pattern_array[i] = temparray[i].replace(":","").split(",");
	}

	for(var i = 0; i < count-1; i++){
//		alert(pattern_array[i]);
	}
	
	return pattern_array;	
}

function findExpressionNotes(){
	
	var notes=String("${ISHSingleSubmissionBean.submission.annotationTreeExpressionNotes}");

	var temparray = notes.split("|");
	var count = temparray.length;
	var notes_array = new Array(count-1);
	for(var i = 0; i < count-1; i++){
		notes_array[i] = new Array(2);
		var tmpstr = temparray[i].replace(":","");		
		var idx = tmpstr.indexOf(",");
		notes_array[i][0] = tmpstr.substring(0,idx);
		notes_array[i][1] = tmpstr.substring(idx);
//		alert(notes_array[i][0]);
//		alert(notes_array[i][1]);
	}
/*
	var dnotes=String("${ISHSingleSubmissionBean.submission.annotationTreeDensityNotes}");
	var dtemparray = dnotes.split("|");
	var dcount = dtemparray.length;
	var dnotes_array = new Array(dcount-1);
	for(var j = 0; j < 1; j++){
		dnotes_array[j] = new Array(2);
//		dnotes_array[j] = dtemparray[j].replace(":","").split(",");
		dnotes_array[j][0] = "EMAPS2837028";
		dnotes_array[j][1] = "density note test";
	
	}
	
	notes_array = notes_array.concat(dnotes_array);
//	for(var i = 0; i < notes_array.length; i++){
//		alert("n0 = " + notes_array[i][0]);
//		alert("n1 = " + notes_array[i][1]);
//	}
	
	notes_array = notes_array .reduce(function(ob, ar) {
        if (!(ar[0] in ob.nums)) {
            ob.nums[ar[0]] = ar
            ob.result.push(ar);
        } else
            ob.nums[ar[0]][1] = (" Expression Note: " + ob.nums[ar[0]][1]) + "\r\n Density Note: " + ar[1];

          return ob
        }, {nums: {}, result: []}).result
                .sort(function(a, b) {
          return a[0] - b[0];
        });
*/	
	return notes_array;
}
//]]>
</script>
		
		<ui:include src="/snippets/g_personDetails.xhtml"></ui:include>
		
		<ui:include src="/snippets/g_fullSequence.xhtml"></ui:include>
		
		<ui:remove><!-- <ui:include src="/snippets/g_expressionDetails.xhtml"></ui:include> --></ui:remove>

		
	    <h:form id="db_submission_detail_form">
	    	<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0">
	    		<h:graphicImage library="images/display" name="GUDMAP_Logo_50.png" styleClass="db_icon" height="50" rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'GUDMAP'}"/>
	    		<h:graphicImage library="images/display" name="button_euregene2.png" styleClass="db_icon" height="50" rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'EUREGENE'}"/>
	    		<h:panelGroup>
	    			<h:panelGrid columns="2"  columnClasses="db_inner_detail_left,db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
	    			    <h:outputText value="EuregeneID: "  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.euregeneId}" />
	    				<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.euregeneId}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.euregeneId}"/>
	    			
	    				 <h:outputText value="Gene: "></h:outputText>
	    				 <h:panelGroup>
							<h:outputLink value="viewGeneDetails.jsf">
								<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.geneSymbol}" />
								<f:param name="geneId" value="#{ishSubmissionBean.ishSubmissionModel.geneId}" />
							</h:outputLink>
	    				 	<h:outputText value=", #{ishSubmissionBean.ishSubmissionModel.geneName}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.geneName}"></h:outputText>
	    				 </h:panelGroup>
	    				 
	    				 <h:outputText value="Stage: "></h:outputText>
	    				 <h:outputLink value="http://www.emouseatlas.org/emap/ema/theiler_stages/StageDefinition/ts#{ishSubmissionBean.ishSubmissionModel.stage}definition.html" rendered="#{ishSubmissionBean.ishSubmissionModel.specimenModel.species == 'Mus musculus'}">
							<h:outputText value="Theiler Stage #{ishSubmissionBean.ishSubmissionModel.stage}" rendered="#{ishSubmissionBean.ishSubmissionModel.specimenModel.species == 'Mus musculus'}"/>
						</h:outputLink>
						<h:outputText value="Carnegie Stage #{ishSubmissionBean.ishSubmissionModel.stage}" rendered="#{ishSubmissionBean.ishSubmissionModel.specimenModel.species == 'Homo sapiens'}"/>
	    				 
	    				 <h:outputText value="Tissue: "></h:outputText>
	    				 <h:outputText value="#{ishSubmissionBean.ishSubmissionModel.tissue}"></h:outputText> 
	    				 
	    				 <h:outputText value="Species: "></h:outputText>
	    				 <h:outputText value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.species}"></h:outputText> 
	    				 
	    				 <h:outputText value="Assay Type: "></h:outputText>
	    				 <h:outputText value="#{ishSubmissionBean.ishSubmissionModel.assayType}  #{ishSubmissionBean.ishSubmissionModel.specimenModel.assayType}" rendered="#{ishSubmissionBean.ishSubmissionModel.specimenModel.assayType != 'unspecified' }"></h:outputText> 
	    				 <h:outputText value="#{ishSubmissionBean.ishSubmissionModel.assayType}" rendered="#{ishSubmissionBean.ishSubmissionModel.specimenModel.assayType == 'unspecified' }"/> 
	    			</h:panelGrid>
	    		</h:panelGroup>
	    	</h:panelGrid>
	    	
	    	<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0">
	    		<h:outputText value="Images" />
				<h:dataTable  columnClasses="db_inner_image_detail_left,db_inner_detail_right" value="#{ishSubmissionBean.ishSubmissionModel.originalImages}" var="image">
				        <h:column>
							<h:outputLink value="#" target="_blank"
							                       onclick="mywindow=window.open('#{image.clickFilePath}','#{image.accessionId}','toolbar=no,menubar=no,directories=no,resizable=yes,scrollbars=yes,width=1166,height=1000');return false">
								<h:graphicImage value="#{image.filePath}" styleClass="db_thumb_height"/>
							</h:outputLink>
				        </h:column>
				        <h:column>
							<h:outputText value="#{image.note}"/>
				        </h:column>
				</h:dataTable>
				
				<h:panelGroup></h:panelGroup>
				<h:panelGroup rendered="#{null != ishSubmissionBean.ishSubmissionModel.imageDetailModel}">
						<h:outputText  value="View 3D opt image:&#160;&#160;&#160; "></h:outputText>
						<h:outputLink value="#{ishSubmissionBean.ishSubmissionModel.imageDetailModel.clickFilePath}">
							<h:graphicImage library="images/display" name="opt_logo.png" height="30" width="30"/>
						</h:outputLink>			
				</h:panelGroup>
				
				<h:panelGroup></h:panelGroup>
				<h:outputLink value="#{ishSubmissionBean.ishSubmissionModel.imageDetailModel.filePath}" rendered="#{null != ishSubmissionBean.ishSubmissionModel.imageDetailModel}">
						<h:outputText value="Download 3D images in woolz format "></h:outputText>
				</h:outputLink>
				
	    	</h:panelGrid>
	    	
	    	<h:panelGrid  columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.resultNotes}">
				<h:outputText value="Results Notes" />
				<h:dataTable columnClasses="db_inner_detail_right" value="#{ishSubmissionBean.ishSubmissionModel.resultNotes}" var="note">
					<h:column>
						<h:outputText value="#{note}"/>
					</h:column>
				</h:dataTable>
			</h:panelGrid>
			
			<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'GUDMAP' and ishSubmissionBean.ishSubmissionModel.assayType == 'ISH' and ishSubmissionBean.ishSubmissionModel.specimenModel.assayType == 'wholemount'}">
				<h:outputText value="Disclaimer" />
				<h:panelGroup>
					<h:outputText value="Whole-mount in situ hybridization is subject to technical limitations that may influence accuracy of the data " />
					<pr:commandButton id="showdialog" value="Read more..." onclick="PF('wholemount_dialog').show();" type="button">
						
					</pr:commandButton>
				</h:panelGroup>
			</h:panelGrid>
			
			<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'EUREGENE'}">
				<h:outputText value="IMPORTANT NOTE ABOUT EUREGENE ANNOTATIONS" />
				<h:outputText value="Annotations within this entry are currently under review by the GUDMAP editorial office and Kylie Georgas (Little Lab, University of Queensland). 
									In due course the annotations will be changed to reflect this review process. Original EuReGene annotations will continue to be available from www.gudmap.org/euregene/" />			
			</h:panelGrid>
			
			<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0">
	    		<h:outputText value="Submitters"></h:outputText>
	    		<h:panelGroup>
	    			<h:panelGrid columns="2"  columnClasses="db_inner_detail_left,db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
	    			    <h:outputText value="Principal Investigator(s) : "/>
	    				<t:dataList id="piDataList" var="piInfo" value="#{ishSubmissionBean.ishSubmissionModel.principalInvestigators}" >
							<h:commandLink id="lastbutton2" value="#{piInfo.name}, "  onclick="PF('lab_dialog').show();">
	                            	<f:setPropertyActionListener id="piproperty" target="#{personBean.id}" value="#{piInfo.id}" />     	
				                    <f:ajax execute="lastbutton2" render=":dialogform" />
				                </h:commandLink>
							<h:outputText title="#{piInfo.fullAddress}"  value="#{piInfo.displayAddress}" /><br/>
				        </t:dataList>
				        
				        <h:outputText value="Contributors:" />
						<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.authors}" />
						
						
						<h:outputText value="Submitted By:" />
						<h:panelGroup>
	                            <h:commandLink id="lastbutton" value="#{ishSubmissionBean.ishSubmissionModel.submitter.name}, "  onclick="PF('lab_dialog').show();">
	                            	<f:setPropertyActionListener id="submitterproperty" target="#{personBean.id}" value="#{ishSubmissionBean.ishSubmissionModel.submitter.id}" />     	
				                    <f:ajax execute="lastbutton" render=":dialogform" />
				                </h:commandLink>
				                <h:outputText title="#{ishSubmissionBean.ishSubmissionModel.submitter.fullAddress}"  value="#{ishSubmissionBean.ishSubmissionModel.submitter.displayAddress}" />
						</h:panelGroup>
						
						<ui:remove>
						<!-- <h:outputText rendered="#{ishSubmissionBean.ishSubmissionModel.archiveId != '0'}" value="Archive/Batch ID:" />
						<h:outputLink rendered="#{ishSubmissionBean.ishSubmissionModel.archiveId != '0'}" value="#{appRoot}/pages/viewPage.jsf?docID=13##{ishSubmissionBean.ishSubmissionModel.archiveId}" >
							<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.archiveId}" />
						</h:outputLink> -->
						</ui:remove>
						
						<h:outputText value="Archive ID:"     rendered="#{ishSubmissionBean.ishSubmissionModel.archiveId > 0}"/>
						<h:outputLink value="#{appRoot}/pages/viewPage.jsf?docID=13##{ishSubmissionBean.ishSubmissionModel.archiveId}"  rendered="#{ishSubmissionBean.ishSubmissionModel.archiveId > 0}">
							<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.archiveId}"    rendered="#{ishSubmissionBean.ishSubmissionModel.archiveId > 0}"/>
						</h:outputLink>
						
						<h:outputText value="Batch ID:" rendered="#{ishSubmissionBean.ishSubmissionModel.batchId > 0}"/>
						<h:commandLink value="#{ishSubmissionBean.ishSubmissionModel.batchId}" 
							action="#{paramBean.returnBatchPage(ishSubmissionBean.ishSubmissionModel.assayType,ishSubmissionBean.ishSubmissionModel.specimenModel.assayType)}" 
							rendered="#{ishSubmissionBean.ishSubmissionModel.batchId > 0}">
							<f:param name="batch" value="#{ishSubmissionBean.ishSubmissionModel.batchId}" />
						</h:commandLink>
						
						<h:outputText value="Submission ID:" />
						<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.labId}" />
	    			
	    			</h:panelGrid>
	    		</h:panelGroup>
	    	</h:panelGrid>
	    	
	    	
	    	<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0">
			<h:panelGroup>
				<h:outputText value="Expression Mapping &lt;br/&gt;&lt;br/&gt;" escape="false"/>
				<h:outputText value="Expression Strengths Key:" styleClass="plaintextbold" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}" />
				<h:panelGrid columns="2"  columnClasses="db_expression_detail_left,db_expression_detail_right" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}">
					<h:graphicImage library="images/tree" name="DetectedRoundPlus20x20.gif" styleClass="db_expression_icon" />
					<h:outputText value="Present (unspecified strength)"  />
			
					<h:graphicImage library="images/tree" name="StrongRoundPlus20x20.gif" styleClass="db_expression_icon" />
					<h:outputText value="Present (strong)"  />
			
					<h:graphicImage library="images/tree" name="ModerateRoundPlus20x20.gif" styleClass="db_expression_icon" />
					<h:outputText value="Present (moderate)"  />
					
					<h:graphicImage library="images/tree" name="WeakRoundPlus20x20.gif" styleClass="db_expression_icon" />
					<h:outputText value="Present (weak)"  />
					
					<h:graphicImage library="images/tree" name="PossibleRound20x20.gif" styleClass="db_expression_icon" />
					<h:outputText value="Uncertain"  />
					
					<h:graphicImage library="images/tree" name="NotDetectedRoundMinus20x20.gif" styleClass="db_expression_icon" />
					<h:outputText value="Not Detected"  />
				</h:panelGrid>
					
				<h:outputText value="Expression Patterns Key:" styleClass="plaintextbold" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}" />
				<h:panelGrid columns="2"  columnClasses="db_expression_detail_left,db_expression_detail_right" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}">
					<h:graphicImage library="images/tree" name="HomogeneousRound20x20.png" styleClass="db_expression_icon" />
					<h:outputText value="Homogeneous"  />
					
					<h:graphicImage library="images/tree" name="GradedRound20x20.png" styleClass="db_expression_icon" />
					<h:outputText value="Graded"  />
					
					<h:graphicImage library="images/tree" name="RegionalRound20x20.png" styleClass="db_expression_icon" />
					<h:outputText value="Regional"  />
					
					<h:graphicImage library="images/tree" name="SpottedRound20x20.png" styleClass="db_expression_icon" />
					<h:outputText value="Spotted"  />
					
					<h:graphicImage library="images/tree" name="UbiquitousRound20x20.png" styleClass="db_expression_icon" />
					<h:outputText value="Ubiquitous"  />

					<h:graphicImage library="images/tree" name="RestrictedRound20x20.png" styleClass="db_expression_icon" />
					<h:outputText value="Restricted"  />
					
					<h:graphicImage library="images/tree" name="SingleCellRound20x20.png" styleClass="db_expression_icon" />
					<h:outputText value="Single cell"  />			
				</h:panelGrid>

				<h:outputText value="Nerve Density: &lt;br/&gt;&lt;br/&gt;" escape="false" styleClass="plaintextbold" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}" />
				<h:outputText value="Relative to Total:" styleClass="plaintextbold" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}" />
				<h:panelGrid columns="2" columnClasses="db_expression_detail_left,db_expression_detail_right" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}">
					
					<h:graphicImage library="images/tree" name="max_high.png" styleClass="db_expression_icon" />
					<h:outputText value="Maximum"  />
					
					<h:graphicImage library="images/tree" name="mod_medium.png" styleClass="db_expression_icon" />
					<h:outputText value="Moderate"  />

					<h:graphicImage library="images/tree" name="min_low.png" styleClass="db_expression_icon" />
					<h:outputText value="Low"  />
						
				</h:panelGrid>
				<br />
				<h:outputText value="Relative to P0/Adult:" styleClass="plaintextbold" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}" />
				<h:panelGrid columns="2"  columnClasses="db_expression_detail_left,db_expression_detail_right" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}">

					<h:graphicImage library="images/tree" name="inc_large.png" styleClass="db_expression_icon" />
					<h:outputText value="Increase, large"  />
					
					<h:graphicImage library="images/tree" name="inc_small.png" styleClass="db_expression_icon" />
					<h:outputText value="Increase, small"  />

					<h:graphicImage library="images/tree" name="dec_large.png" styleClass="db_expression_icon" />
					<h:outputText value="Decrease, large"  />
					
					<h:graphicImage library="images/tree" name="dec_small.png" styleClass="db_expression_icon" />
					<h:outputText value="Decrease, small"  />
					
					<h:graphicImage library="images/tree" name="note.gif" styleClass="db_expression_icon" />
					<h:outputText value="Contains note"  />
				</h:panelGrid>
			</h:panelGroup>
			
			
			
			
			<h:panelGroup>
				<h:outputText value="No Expression Mapping Data Available" styleClass="datatext" rendered="#{!ishSubmissionBean.expressionMapped}" />
				
				<h:panelGrid columns="3" columnClasses="table-stripey" bgcolor="white" cellspacing="2" cellpadding="4">
					<h:commandLink value="#{sessionBean.annotationDisplayText}" action="#{sessionBean.getSubmissionView()}" styleClass="plaintext">
						<f:setPropertyActionListener id="annoDisplayproperty" target="#{sessionBean.displayAsTree}" value="#{!sessionBean.displayAsTree}" />
						<f:param name="accId" value="#{ishSubmissionBean.ishSubmissionModel.accID}"/>
					</h:commandLink>
					<h:link style="cursor:help;">
			    		<span id="il_tree_span">
			    			<h:graphicImage library="images/dbhome" name="n_information.png" alt="" width="22" height="24" id="il_annotation_info"></h:graphicImage>
			    		</span>
		    		</h:link>
					
				</h:panelGrid>
				<ui:remove>
				<h:inputHidden value="#{ishSubmissionBean.ishSubmissionModel.accID}" />
				</ui:remove>
				<h:panelGroup rendered="#{ishSubmissionBean.expressionMapped and !sessionBean.displayAsTree}">
					<h:outputText value="ACCESSION ID: #{ishSubmissionBean.ishSubmissionModel.accID}"/>
					<h:dataTable cellpadding="2" width="100%" styleClass="db_order-table db_list_images" headerClass="db_order-table-header" rowClasses="db_order-table-odd-row,db_order-table-even-row" 
								 value="#{ishSubmissionBean.ishSubmissionModel.expressionDetailModel}" var="exp" >
						<h:column>
							<f:facet name="header">
								<h:outputText value="ComponentID" styleClass="plaintextbold"/>
							</f:facet>
							<h:outputLink styleClass="datatext" value="javascript:showExpressionInformation('#{ishSubmissionBean.ishSubmissionModel.oid}','#{exp.componentId}','0')">
								<h:outputText value="#{exp.componentId}" />
							</h:outputLink>
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Component " styleClass="plaintextbold"/>
							</f:facet>
							<h:outputLink styleClass="datatext" value="javascript:showExpressionInformation('#{ishSubmissionBean.ishSubmissionModel.oid}','#{exp.componentId}','0')">
								<h:outputText value="#{exp.componentName}" />
								<h:graphicImage library="images/tree" name="note.gif" rendered="#{exp.noteExists}" styleClass="db_icon" />
							</h:outputLink>
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Expression" styleClass="plaintextbold"/>
							</f:facet>
							<h:panelGrid columns="2">
								<h:graphicImage library="images/tree" name="#{exp.expressionImage}" styleClass="db_icon" alt="" />
								<h:panelGroup>
									<h:outputText value="#{exp.primaryStrength} " styleClass="datatext" />
									<h:outputText rendered="#{exp.secondaryStrength != ' ' and exp.secondaryStrength != ''}" value="(#{exp.secondaryStrength})" styleClass="datatext" />
									<h:outputText rendered="#{exp.secondaryStrength == ' ' || exp.secondaryStrength == ''}" value="(unspecified)" styleClass="datatext" />
								</h:panelGroup>
							</h:panelGrid>
						</h:column>
						<h:column rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'GUDMAP'}">
							<f:facet name="header">
								<h:outputText value="Patterns/Locations" styleClass="plaintextbold"/>
							</f:facet>
							<h:dataTable border="0" cellspacing="0" cellpadding="2" columnClasses="text-top" value="#{exp.pattern}" var="pattern" rendered="#{not empty exp.pattern}">
								<h:column>
									<h:panelGrid columns="2">
										<h:graphicImage  library="images/tree" name="#{pattern.patternImage}" styleClass="db_icon" alt="" />
										<h:panelGrid columns="2" columnClasses="text-top">
											<h:outputText value="#{pattern.pattern}" styleClass="datatext"/>
											<h:outputText value="#{pattern.locations}" styleClass="datatext"/>
										</h:panelGrid>
									</h:panelGrid>
								</h:column>
							</h:dataTable>
						</h:column>
						<h:column rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'EUREGENE'}">
							<f:facet name="header">
								<h:outputText value="Pattern" styleClass="plaintextbold"/>
							</f:facet>
							<h:dataTable border="0" cellspacing="0" cellpadding="2" columnClasses="text-top" value="#{exp.pattern}" var="pattern" rendered="#{not empty exp.pattern}">
								<h:column>
									<h:panelGrid columns="2">
										<h:graphicImage   library="images/tree" name="#{pattern.patternImage}" styleClass="db_icon" alt="" />
										<h:outputText value="#{pattern.pattern}" styleClass="datatext"/>
									</h:panelGrid>
								</h:column>
							</h:dataTable>
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Densities" styleClass="plaintextbold"/>
							</f:facet>
							<h:panelGrid columns="2">
									<h:graphicImage   library="images/tree" name="#{exp.densityImageRelativeToTotal}" styleClass="db_icon" alt="" rendered="#{exp.densityImageRelativeToTotal != null}"/>
									<h:outputText value="Rel to Total: #{exp.densityRelativeToTotal}" styleClass="datatext" rendered="#{exp.densityImageRelativeToTotal != null}"/>
									<h:graphicImage   library="images/tree" name="#{exp.densityImageRelativeToAge}" styleClass="db_icon" alt="" rendered="#{exp.densityImageRelativeToAge != null}"/>
									<h:outputText value="Rel to P0/Adult: #{exp.densityChange}" styleClass="datatext" rendered="#{exp.densityImageRelativeToAge != null}"/>
							</h:panelGrid>
						</h:column>
					</h:dataTable>
				</h:panelGroup>
				<h:panelGroup rendered="#{ishSubmissionBean.expressionMapped and sessionBean.displayAsTree}">
					 <div id="demo2_view" class="demo" style="overflow: auto; align: left; min-height: 540px; background-color:#green; color:red;">hello derek</div>
						
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGrid>
	    	
	    	
	    	<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.ishSubmissionModel.assayType == 'IHC' || ishSubmissionBean.ishSubmissionModel.assayType == 'OPT'}">
			<h:outputText value="Antibody"  />
			<h:panelGrid columns="2" columnClasses="db_inner_detail_left,db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
					
					<h:outputText value="Protein:" />
					<h:panelGrid columns="1" border="0">
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title" value="Symbol: " />
							<h:outputLink  value="viewGeneDetails.jsf">
								<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.geneSymbol}" />
								<f:param name="geneId" value="#{ishSubmissionBean.ishSubmissionModel.geneId}" />
							</h:outputLink>
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText  styleClass="db_inner_inner_title"  value="Name: " />
							<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.geneName} " />
							<h:outputLink  value="http://www.informatics.jax.org/accession/#{ishSubmissionBean.ishSubmissionModel.antibodyModel.locusTag}">
								<h:outputText value=" (#{ishSubmissionBean.ishSubmissionModel.antibodyModel.locusTag})" />
							</h:outputLink>
						</h:panelGroup>
					</h:panelGrid>
				
					<h:outputText rendered="#{ishSubmissionBean.ishSubmissionModel.project != 'EUREGENE'}" value="Name:" />
					<h:panelGroup rendered="#{ishSubmissionBean.ishSubmissionModel.project != 'EUREGENE'}">
						<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.name}" />
					</h:panelGroup>
			
					<h:outputText value="Accession ID:" rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'GUDMAP'}" />
						<h:panelGroup rendered="#{ishSubmissionBean.ishSubmissionModel.project == 'GUDMAP'}">
							<h:outputLink  value="http://www.informatics.jax.org/accession/#{ishSubmissionBean.ishSubmissionModel.antibodyModel.accessionId}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.antibodyModel.accessionId}">
								<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.accessionId} " />
							</h:outputLink>	
							<h:outputText value="No MGI ID " rendered="#{empty ishSubmissionBean.ishSubmissionModel.antibodyModel.accessionId}"/>

 							<h:outputLink  value="viewAntibodyDetails.jsf" target="_blank">
								<f:param name="antibody" value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.maprobeID}" />
								<h:outputText value=" (#{ishSubmissionBean.ishSubmissionModel.antibodyModel.maprobeID})" />
							</h:outputLink>
 
  						</h:panelGroup>
			
					<h:outputText value="Epitope (Uniprot ID):"/>
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.uniprotId}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.antibodyModel.uniprotId}"/>
					<h:outputText value="unknown" rendered="#{empty ishSubmissionBean.ishSubmissionModel.antibodyModel.uniprotId}"/>
					<h:outputText value="Amino-terminus (start):" rendered="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.seqStartLocation > 0 and ishSubmissionBean.ishSubmissionModel.antibodyModel.seqEndLocation > 0}"/>
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.seqStartLocation}" rendered="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.seqStartLocation > 0 and ishSubmissionBean.ishSubmissionModel.antibodyModel.seqEndLocation > 0}"/>
					<h:outputText value="Carboxy-terminus (end):" rendered="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.seqStartLocation > 0 and ishSubmissionBean.ishSubmissionModel.antibodyModel.seqEndLocation > 0}"/>
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.seqEndLocation}" rendered="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.seqStartLocation > 0 and ishSubmissionBean.ishSubmissionModel.antibodyModel.seqEndLocation > 0}"/>
			
					<h:panelGroup/>
					<h:panelGroup/>
			
					<h:outputText value="Supplier: " />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.supplier}" />
			
					<h:outputText value="Catalogue Number: " />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.catalogueNumber}" />
			
					<h:outputText value="Lot Number: " />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.lotNumber}" />
			
					<h:panelGroup/>
					<h:panelGroup/>
			
					<h:outputText value="Type: " />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.type}" />
			
					<h:outputText value="Host: " />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.host}"/>
					
					<h:outputText value="Purification Method: "/>
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.purificationMethod}" />

					<h:panelGroup/>
					<h:panelGroup/>
					
					<h:outputText value="Immunoglobulin Isotype:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.immunoglobulinIsotype}" />
					
					<h:outputText value="Variant Detected:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.detectedVariantValue}" />
					
					<h:outputText value="Species Specificity:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.speciesSpecificity}" />

					<h:outputText value="Curator Notes:" rendered="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.curatorNotes != ''}"/>
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.curatorNotes}" rendered="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.curatorNotes != ''}"/>
					
					<h:outputText value="Detection System:" />
					<h:panelGrid columns="1" border="0">
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title"  value="Direct Label: " />
							<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.directLabel}"/>
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title"  value="Secondary Antibody: " />
							<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.secondaryAntibody}"/>
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title"  value="Signal Detection Method: " />
							<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.signalDetectionMethod}"/>
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title"  value="Detection Notes: " />
							<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.detectionNotes}"/>
						</h:panelGroup>
					</h:panelGrid>
			
					<h:panelGroup/>
					<h:panelGroup/>
			

					<h:outputText  value="Dilution:" />
					<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.dilution}" />

					<h:outputText  value="Notes:" />
					<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.notes}" />
								  
					<h:outputText  value="Lab Antibody ID:" />
					<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.antibodyModel.labProbeId}" />
				</h:panelGrid>
			
		 </h:panelGrid>
		 
		 
		  <h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.ishSubmissionModel.assayType == 'ISH' || ishSubmissionBean.ishSubmissionModel.assayType == 'ISH (sense probe)'}">
		        <h:outputText value="Probe"  />
			
				<h:panelGrid columns="2" columnClasses="db_inner_detail_left,db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
				
					<h:outputText value="Gene:" />
					<h:panelGrid columns="1" border="0">
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title" value="Symbol: " />
							<h:outputLink  value="viewGeneDetails.jsf">
								<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.geneSymbol}" />
								<f:param name="geneId" value="#{ishSubmissionBean.ishSubmissionModel.geneId}" />
							</h:outputLink>
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title" value="Name: " />
							<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.geneName} " />
							<h:outputText  value="(" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.geneIdUrl}" />
							<h:outputLink  value="#{ishSubmissionBean.ishSubmissionModel.probeModel.geneIdUrl}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.geneIdUrl}" >
							<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.geneId}" />
							</h:outputLink>
							<h:outputText  value=")" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.geneIdUrl}" />
						</h:panelGroup>
					</h:panelGrid>
									
					<h:outputText  value="Probe ID:" />
					<h:panelGroup>
						<h:outputLink  rendered="#{ishSubmissionBean.renderPrbNameURL}" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.probeNameURL}" target="_blank">
							<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.probeName}" />
						</h:outputLink>
						<h:outputLink  rendered="#{!ishSubmissionBean.renderPrbNameURL and ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID != ishSubmissionBean.ishSubmissionModel.probeModel.probeName}" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.probeNameURL}">
							<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.probeName}" />
						</h:outputLink>	
					    <h:outputText value="No MGI ID " rendered="#{!ishSubmissionBean.renderPrbNameURL and ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID == ishSubmissionBean.ishSubmissionModel.probeModel.probeName}"/>
						<h:outputLink  rendered="#{!ishSubmissionBean.renderPrbNameURL and ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID == ishSubmissionBean.ishSubmissionModel.probeModel.probeName}" value="viewMaProbeDetails.jsf" target="_blank">
							<f:param name="probe" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.probeName}" />
							<f:param name="maprobe" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID}" />
							<h:outputText value=" (#{ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID})" />
						</h:outputLink>	

						<h:outputLink  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID and ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID != ishSubmissionBean.ishSubmissionModel.probeModel.probeName}" value="viewMaProbeDetails.jsf" target="_blank">
							<f:param name="probe" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.probeName}" />
							<f:param name="maprobe" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID}" />
							<h:outputText value=" (#{ishSubmissionBean.ishSubmissionModel.probeModel.maprobeID})" />
						</h:outputLink>
					</h:panelGroup>
					
					<h:outputText value="Name of cDNA:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.cloneName}" />
					
					<h:outputText value="Additional Name of cDNA:" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.additionalCloneName}"/>
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.additionalCloneName}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.additionalCloneName}" />
					
					<h:outputText value="Sequence ID:" />
					<h:panelGrid  rowClasses="text-top" columns="1" border="0" >
						<h:panelGroup>
							<h:outputLink target="_blank"  value="#{ishSubmissionBean.ishSubmissionModel.probeModel.genbankURL}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.genbankID}" >
								<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.probeModel.genbankID}" />
							</h:outputLink>
							<h:outputText  value="unknown" rendered="#{empty ishSubmissionBean.ishSubmissionModel.probeModel.genbankID}" />
						</h:panelGroup>
					</h:panelGrid>
					
					<h:outputText  value="5' primer sequence:" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq5Primer and ishSubmissionBean.renderPrbSeqInfo}"/>
					<h:outputText styleClass="db_sequence" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.seq5Primer}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq5Primer and ishSubmissionBean.renderPrbSeqInfo}" />
					
					<h:outputText  value="3' primer sequence:" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq3Primer and ishSubmissionBean.renderPrbSeqInfo}"/>
					<h:outputText styleClass="db_sequence" value="#{ishSubmissionBean.ishSubmissionModel.probeModel.seq3Primer}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq3Primer and ishSubmissionBean.renderPrbSeqInfo}" />
					
					<h:outputText  value="5' primer location:" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq5Loc and ishSubmissionBean.ishSubmissionModel.probeModel.seq5Loc != 'n/a' and ishSubmissionBean.renderPrbSeqInfo}" />
					<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.probeModel.seq5Loc}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq5Loc and ishSubmissionBean.ishSubmissionModel.probeModel.seq5Loc != 'n/a' and ishSubmissionBean.renderPrbSeqInfo}"/>
					
					<h:outputText  value="3' primer location:"  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq3Loc and ishSubmissionBean.ishSubmissionModel.probeModel.seq3Loc != 'n/a' and ishSubmissionBean.renderPrbSeqInfo}" />
					<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.probeModel.seq3Loc}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.seq3Loc and ishSubmissionBean.ishSubmissionModel.probeModel.seq3Loc != 'n/a' and ishSubmissionBean.renderPrbSeqInfo}" />
					
					<h:outputText value="Template Sequence:" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.fullSequence}"/>
					<h:outputLink  value="#" onclick="PF('seq_dialog').show();return false;"  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.fullSequence}">
						<h:outputText value="(Click to see sequence.)" />
					</h:outputLink>
					
					<h:outputText value="Origin of Clone used to make the Probe:" />
					<h:panelGrid columns="1" border="0">
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title" value="Strain: " />
							<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.strain}" />
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText styleClass="db_inner_inner_title" value="Tissue: " />
							<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.probeModel.tissue} " />
						</h:panelGroup>
					</h:panelGrid>
		
					
					<h:outputText value="Probe Type:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.type}" />
					
					<h:outputText value="Type:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.geneType}" />
					
					<h:outputText value="Labelled with:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.labelProduct}" />
					
					<h:outputText value="Visualisation method:" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.visMethod}" />
					
					<h:outputText value="Lab Probe ID:" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.labProbeId}" />
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.probeModel.labProbeId}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.labProbeId}" />
					
					<h:outputText styleClass="plaintext,text-top" value="Probe Notes:" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.notes}" />
					<h:outputText  value="#{ishSubmissionBean.ishSubmissionModel.probeModel.notes}" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.probeModel.notes}" />

					<h:outputText value="Curator Notes:" rendered="#{null != ishSubmissionBean.ishSubmissionModel.probeModel.maprobeNotes}" />
					<h:dataTable value="#{ishSubmissionBean.ishSubmissionModel.probeModel.maprobeNotes}" var="maprobeNote" rendered="#{null != ishSubmissionBean.ishSubmissionModel.probeModel.maprobeNotes}">
						<h:column>
							<h:outputText  value="#{maprobeNote}" />
						</h:column>
					</h:dataTable>
				</h:panelGrid>
			
       	  </h:panelGrid>
       	  
       	  <h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0">
			<h:outputText value="Specimen" />
			<h:panelGrid columns="2" columnClasses="db_inner_detail_left,db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
				<h:outputText value="Stage:" />
				<h:outputLink value="http://www.emouseatlas.org/emap/ema/theiler_stages/StageDefinition/ts#{ishSubmissionBean.ishSubmissionModel.stage}definition.html" rendered="#{ishSubmissionBean.ishSubmissionModel.specimenModel.species == 'Mus musculus'}">
					<h:outputText value="TS#{ishSubmissionBean.ishSubmissionModel.stage}" />
				</h:outputLink>
				
				<h:outputText value="CS#{ishSubmissionBean.ishSubmissionModel.stage}" rendered="#{ishSubmissionBean.ishSubmissionModel.specimenModel.species != 'Mus musculus'}"/>
				<h:outputText rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.otherStage}" value="Other Staging System:" />
				<h:outputText rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.otherStage}" value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.otherStage}" />

				<h:outputText value="Tissue:" />
				<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.tissue}" />
					
				<h:outputText value="Strain:" />
				<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.strain}" />

				<h:outputText value="Genotype:" />
				<h:outputText value="wild type" rendered="#{null == ishSubmissionBean.ishSubmissionModel.alleleModel}"/>
			    <t:dataTable id="alleleContentTable" value="#{ishSubmissionBean.ishSubmissionModel.alleleModel}" var="allele"  style="margin-left:-5px;"  
			                			 rendered="#{null != ishSubmissionBean.ishSubmissionModel.alleleModel}">
				    <t:column>
				       <h:panelGrid columns="3" columnClasses="db_bold, db_30_width, db_inner_detail_right">
							<h:outputText value="#{allele.title}" styleClass="db_inner_inner_title"/>
							<h:panelGroup></h:panelGroup>
							<h:panelGroup></h:panelGroup>
		
							<h:outputText value="Gene" />
							<h:panelGroup></h:panelGroup>
							<h:outputText value="#{allele.geneSymbol}" rendered="#{empty allele.geneId}"/>
							<h:outputLink value="viewGeneDetails.jsf" rendered="#{not empty allele.geneId}">
								<h:outputText value="#{allele.geneSymbol}" />
								<f:param name="geneId" value="#{allele.geneId}" />
							</h:outputLink>
		
							<h:outputText value="MGI ID"  rendered="#{not empty allele.alleleId}"/>
							<h:panelGroup rendered="#{not empty allele.alleleId}"/>
							<h:outputText rendered="#{empty allele.alleleIdUrl and not empty allele.alleleId}" value="#{allele.alleleId}" escape="false"/>
							<h:outputLink rendered="#{not empty allele.alleleIdUrl and not empty allele.alleleId}"  value="#{allele.alleleIdUrl}" target="gmerg_external2">
								<h:outputText value="#{allele.alleleId}" />
							</h:outputLink>
		
							<h:outputText value="MGI Symbol or lab name"/>
							<h:panelGroup></h:panelGroup>
							<h:outputText value="#{allele.alleleName}" escape="false" />
		
							<h:outputText value="Type"/>
							<h:panelGroup></h:panelGroup>
							<h:outputText value="#{allele.type}"/>
					
							<h:outputText value="Allele First Chromatid" rendered="#{not empty allele.alleleFirstChrom}"/>
							<h:panelGroup rendered="#{not empty allele.alleleFirstChrom}" />
							<h:outputText value="#{allele.alleleFirstChrom}" escape="false" rendered="#{not empty allele.alleleFirstChrom}" />
											
							<h:outputText value="Allele Second Chromatid"  rendered="#{not empty allele.alleleSecondChrom}"/>
							<h:panelGroup rendered="#{not empty allele.alleleSecondChrom}"/>
							<h:outputText value="#{allele.alleleSecondChrom}"  escape="false" rendered="#{not empty allele.alleleSecondChrom}" />
							
							<h:outputText value="Notes:" rendered="#{not empty allele.notes}" />
							<h:panelGroup rendered="#{not empty allele.notes}"/>
							<h:outputText value="#{allele.notes}" rendered="#{not empty allele.notes}" escape="false" />
				       </h:panelGrid>
				    </t:column>
			     </t:dataTable>
					
			    <h:outputText value="Sex:" />
				<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.sex}" />
					
				<h:outputText value="Specimen Preparation:"  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.fixMethod || not empty ishSubmissionBean.ishSubmissionModel.specimenModel.embedding}" />
				<h:panelGrid columns="2" columnClasses="db_inner_detail_right" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.fixMethod || not empty ishSubmissionBean.ishSubmissionModel.specimenModel.embedding}" >
					<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.assayType}"/>
					<h:panelGrid columns="3">
					    <h:panelGrid  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.fixMethod}" />
						<h:outputText value="Fixation Method:" styleClass="db_inner_inner_title"  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.fixMethod}" />
						<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.fixMethod}"  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.fixMethod}" />

					    <h:panelGrid rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.embedding}" />
						<h:outputText value="Embedding:" styleClass="db_inner_inner_title" rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.embedding}" />
						<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.embedding}"  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.specimenModel.embedding}" />
					</h:panelGrid>
				</h:panelGrid>
				
				<h:outputText value="Experiment Notes:" rendered="#{null != ishSubmissionBean.ishSubmissionModel.specimenModel.notes}"/>
				<h:dataTable value="#{ishSubmissionBean.ishSubmissionModel.specimenModel.notes}" var="note" rendered="#{null != ishSubmissionBean.ishSubmissionModel.specimenModel.notes}">
               		<h:column>
					<h:outputText value="#{note}" />
                    </h:column>
			    </h:dataTable>
			 </h:panelGrid>  
		</h:panelGrid>  
		
		<h:panelGrid  columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0" rendered="#{ishSubmissionBean.isTransgenic}">
			<h:outputText value="Transgene Visualisation" />
			<h:panelGrid  columns="2" columnClasses="db_inner_detail_left,db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
				<h:outputText value="Reporter:" />
				<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.alleleModel[0].reporter}" />
				<h:panelGroup>
					<h:outputText value="Direct method for " /><br />
					<h:outputText value="visualising reporter:" />
				</h:panelGroup>
				<h:outputText value="#{ishSubmissionBean.ishSubmissionModel.alleleModel[0].visMethod}" />
		               </h:panelGrid>
		</h:panelGrid>
		

		
		<h:panelGrid columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0"  rendered="#{null != ishSubmissionBean.ishSubmissionModel.linkedSubmissions}">
			<h:outputText value="Linked Submissions" />
			<h:panelGrid   columns="1" columnClasses="db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
				<h:dataTable value="#{ishSubmissionBean.ishSubmissionModel.linkedSubmissions}" var="link">
					<h:column>
						<h:panelGrid columns="1">
							<h:panelGroup>
								<h:outputText styleClass="db_bold" value="Database: " />
								<h:outputText styleClass="db_bold" value="#{link[0]}" />
							</h:panelGroup>
					
							<h:dataTable styleClass="browseTable" rowClasses="db_order-table-odd-row,db_order-table-even-row" headerClass="align-top-stripey"
							               bgcolor="white" cellpadding="5" value="#{link[1]}" var="accessionIDAndTypes">
								<h:column>
									<f:facet name="header">
										<h:outputText value="Accession ID" styleClass="db_bold" />
									</f:facet>
									<h:outputLink styleClass="plaintext" id="submissionID" value="viewSubmissionDetails.jsf">
										<f:param name="accId" value="#{accessionIDAndTypes[0]}" />
									 	<h:outputText value="#{accessionIDAndTypes[0]}"/>
					 				</h:outputLink>
					 			</h:column>
								<h:column>
									<f:facet name="header">
					   					<h:outputText value="Link Type(s)" styleClass="db_bold" />
									</f:facet>
									<t:dataList id="linkTypes" styleClass="plaintext" rowIndexVar="index"
					                		    var="linkType" value="#{accessionIDAndTypes[1]}" layout="simple" rowCountVar="count" >
					 					<h:outputText styleClass="plaintext" value="#{linkType}&#160;" />
										
									</t:dataList>
								</h:column>
							</h:dataTable>
					 
							<h:panelGroup rendered="#{not empty link[2]}">  
								<h:outputText styleClass="plaintext" value="URL: " />
								<h:outputLink styleClass="plaintext" value="http://www.gudmap.org">
									<h:outputText styleClass="datatext" value="#{link[2]}" />
								</h:outputLink>
							</h:panelGroup>
						</h:panelGrid>
					</h:column>
				</h:dataTable>
			</h:panelGrid>
		</h:panelGrid>
		
		<h:panelGrid  columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0"  rendered="#{null != ishSubmissionBean.ishSubmissionModel.acknowledgements}">
			<h:outputText value="Acknowledgements" />
			<h:panelGrid   columns="1" columnClasses="db_inner_detail_right" border="0" cellspacing="0" cellpadding="0">
				<h:dataTable value="#{ishSubmissionBean.ishSubmissionModel.acknowledgements}" var="ack">
					<h:column>
						<h:outputText value = "#{ack}"/>
					</h:column>
				</h:dataTable>
			</h:panelGrid>
		</h:panelGrid>
		
		<h:panelGrid   columns="2" columnClasses="db_outer_detail_left,db_outer_detail_right" styleClass="db_panel_grid_width" border="0" cellspacing="0" cellpadding="0"  rendered="#{not empty ishSubmissionBean.ishSubmissionModel.linkedPublications}">
			<h:outputText value="Linked Publications" />
			<h:panelGrid  columns="1" columnClasses="db_inner_detail_right" border="0" cellspacing="0" cellpadding="0" >
				<h:dataTable  value="#{ishSubmissionBean.ishSubmissionModel.linkedPublications}" var="pub">
					<h:column>
                        <h:outputText value="#{pub[0]}" /> <br />
                        <h:outputText styleClass="db_bold" value="#{pub[2]}" /><br />
                        <h:outputText style="font-style:italic" value="#{pub[3]}, " rendered="#{not empty pub[3]}" />
						<h:outputText value="#{pub[1]}, " />
						<h:outputText styleClass="db_bold" value="#{pub[4]}" rendered="#{not empty pub[4]}"/>
						<h:outputText styleClass="db_bold" value="(#{pub[5]})" rendered="#{not empty pub[5]}"/>
						<h:outputText styleClass="db_bold" value="&#160;:&#160;#{pub[6]}" rendered="#{not empty pub[6]}"/><br />
                        <h:outputText style="font-style:italic" value="#{pub[7]}:&#160;" rendered="#{not empty pub[7]}" />
                        <h:outputText styleClass="db_bold" value="#{pub[8]}" rendered="#{not empty pub[8]}"/><br />
					</h:column>
				</h:dataTable>
			</h:panelGrid>
		</h:panelGrid>
	    	
	    
	    </h:form>
	    
<!-- <script type="text/javascript">
//<![CDATA[
   $(document).ready(function() {
	   
		var showDiseaseTooltip = function(event) {
			$('div.db_tooltip').remove();
			$('<div class="db_tooltip">Information about Disease searches</div>')
			   .appendTo('body');
			changeTooltipPosition(event);
		};
		
		
		var showHintTooltip = function(event) {
		var type='hello derek';
		$('div.db_tooltip').remove();
		$('<div class="db_tooltip">Information about dropping hints</div>')
			 .appendTo('body');
		changeTooltipPosition(event);
		}; 
		
		var changeTooltipPosition = function(event) {
			var tooltipX = event.pageX + 8;
			var tooltipY = event.pageY + 8;
			$('div.db_tooltip').css({top: tooltipY, left: tooltipX});
		};
		var hideTooltip = function() {
			$('div.db_tooltip').remove();
		};
	
		
		$("#il_tree_span").bind({
			mousemove : changeTooltipPosition,
			mouseenter : showDiseaseTooltip,
			mouseleave: hideTooltip
		});
		 
   });
   
   
//]]>
</script> -->		   
	    
	    
	</ui:define>
</ui:composition>
</html>