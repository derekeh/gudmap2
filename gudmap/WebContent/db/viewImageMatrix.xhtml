<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:pr="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/templates/g_template1.xhtml">
	
	<ui:define name="title">
	    Image Matrix
	</ui:define>
<!-- 	comment out the following section if you don't want the solr flyin displayed -->
	<ui:define name="solr">
		<ui:include src="/snippets/g_solrFly.xhtml"/>
	</ui:define>
	
	<ui:define name="content">
	<style>
		.gd_container {max-width:3000px;}
	</style>
	<!-- can use relative links on html tags -->
		#{imageMatrixBean.setup()}
	    <h1>Image Matrix</h1>	
	    <!-- all other content in here -->  
	    <h:form>
	    
	      <pr:dataTable  id="row" value="#{imageMatrixBean.imageInfoModelArray}" var="row" draggableColumns="true" paginator="true" rows="10"
		paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"  
                 rowsPerPageTemplate="10,50,100">
                  
			    <pr:columns  columnIndexVar="index" var="columnNames" value="#{imageMatrixBean.imageMatrixHeaders}">
				    <f:facet name="header">
				    	<h:outputText value="#{columnNames}"/>  <!-- rendered="#{columnNames == 'TS23'}" --> 
				    </f:facet>
				    	<h:panelGroup> <!-- rendered="#{columnNames == 'TS23'}" -->
				    		<h:outputLink value="viewSubmissionDetails.jsf" >    	
				            	<h:outputText value="#{row[index].accessionId}"/>
				            	<f:param name="accId" value="#{row[index].accessionId}" />
				            </h:outputLink>  
				            <br />
				            <h:outputLink value="http://www.emouseatlas.org/emap/ema/theiler_stages/StageDefinition/#{row[index].stage.toLowerCase()}definition.html">
				            	<h:outputText value="#{row[index].stage}"/>	
				            </h:outputLink>
				            <br />
				            <h:outputLink value="#{row[index].clickFilePath}">
				            	<img src="#{row[index].filePath}" />
				            </h:outputLink>	
				            <br />
				            <h:selectBooleanCheckbox id="cb_#{row[index].oid}" value="#{row[index].selected}" rendered="#{row[index] != null}" ></h:selectBooleanCheckbox>	            
						</h:panelGroup>
			    </pr:columns>
		</pr:dataTable> 
	  </h:form>
		
	</ui:define>
</ui:composition>
</html>